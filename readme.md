# OctopusDeploy CLI Action


## Inputs
With the exception of the `command` input, all inputs may be provided with the OctopusCLI Environment variables rather than arguments. This will allow you to set the value once per workflow or job and not need to pass them in again simplifying the workflow yaml file.

### `server`
_Optional_ The full URL of your OctopusDeploy server
> Example: `https://your.octopus.com`

- As an environment variable: `OCTOPUS_CLI_SERVER`

### `apiKey`
_Optional_ The API key generated by your OctopusDeploy server


- As an environment variable: `OCTOPUS_CLI_SERVER`

More information here: [How to Create an API Key](https://octopus.com/docs/octopus-rest-api/how-to-create-an-api-key)

### `username`
_Optional_ Used when passing credentials and not an API key


- As an environment variable: `OCTOPUS_CLI_USERNAME`

### `password`
_Optional_ Used when passing credentials and not an API key


- As an environment variable: `OCTOPUS_CLI_PASSWORD` 

### `command`
_Optional_ The command and parameters to use with the CLI
> Default value: `version`

> Example: `deploy-release --project=CoolestProject --deployTo=PROD --version=1.2.3

More information about the commands and available options can be found in the [official documentation](https://octopus.com/docs/octopus-rest-api/octopus-cli)

## Example Usage

### With Arguments
```yaml
uses: burtonr/octopus-cli-action@7.4.4
with:
  server: https://octopus.forme.io
  apiKey: ${{ secrets.OCTOPUS_API_KEY }}
  command: deploy-release --project=CoolestProject --deployTo=PROD --version=1.2.3
```

### With Environment
```yaml
jobs:
  job1:
    env:
      OCTOPUS_CLI_SERVER: https://octopus.yoursite.com
      OCTOPUS_CLI_API_KEY: ${{ secrets.OCTOPUS_API_KEY }}
    steps:
      - name: step1
        uses: burtonr/octopus-cli-action@7.4.4
        with:
          command: deploy-release --project=CoolestProject --deployTo=PROD --version=1.2.3
```